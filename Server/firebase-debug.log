[debug] [2025-08-25T06:07:11.168Z] ----------------------------------------------------------------------
[debug] [2025-08-25T06:07:11.170Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\B3TAH4X\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --only functions
[debug] [2025-08-25T06:07:11.170Z] CLI Version:   14.14.0
[debug] [2025-08-25T06:07:11.171Z] Platform:      win32
[debug] [2025-08-25T06:07:11.171Z] Node Version:  v22.16.0
[debug] [2025-08-25T06:07:11.171Z] Time:          Mon Aug 25 2025 09:07:11 GMT+0300 (East Africa Time)
[debug] [2025-08-25T06:07:11.171Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-25T06:07:11.395Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-25T06:07:11.396Z] > authorizing via signed-in user (nehmiyahabtewold@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-08-25T06:07:11.405Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-25T06:07:11.405Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-08-25T06:07:11.409Z] [hub] writing locator at C:\Users\B3TAH4X\AppData\Local\Temp\hub-clone-9702b.json
[debug] [2025-08-25T06:07:11.430Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-25T06:07:11.431Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-25T06:07:11.431Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-25T06:07:11.431Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-08-25T06:07:11.449Z] defaultcredentials: writing to file C:\Users\B3TAH4X\AppData\Roaming\firebase\nehmiyahabtewold_gmail_com_application_default_credentials.json
[debug] [2025-08-25T06:07:11.450Z] Setting GAC to C:\Users\B3TAH4X\AppData\Roaming\firebase\nehmiyahabtewold_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\B3TAH4X\\AppData\\Roaming\\firebase\\nehmiyahabtewold_gmail_com_application_default_credentials.json"}}
[debug] [2025-08-25T06:07:11.451Z] Checked if tokens are valid: true, expires at: 1756103087212
[debug] [2025-08-25T06:07:11.451Z] Checked if tokens are valid: true, expires at: 1756103087212
[debug] [2025-08-25T06:07:11.452Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-9702b/adminSdkConfig [none]
[debug] [2025-08-25T06:07:12.796Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-9702b/adminSdkConfig 200
[debug] [2025-08-25T06:07:12.796Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-9702b/adminSdkConfig {"projectId":"clone-9702b","storageBucket":"clone-9702b.firebasestorage.app"}
[info] i  functions: Watching "N:\Amazon Clone\Server" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"N:\\Amazon Clone\\Server\" for Cloud Functions..."}}
[debug] [2025-08-25T06:07:12.844Z] Validating nodejs source
[debug] [2025-08-25T06:07:16.078Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:07:16.078Z] Building nodejs source
[debug] [2025-08-25T06:07:16.079Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:07:16.082Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:07:16.090Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8998

[debug] [2025-08-25T06:07:16.770Z] Got response from /__/functions.yaml {"endpoints":{},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: . {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: ."}}
[debug] [2025-08-25T06:07:20.823Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ”  All emulators ready! It is now safe to connect your app. â”‚
â”‚ i  View Emulator UI at http://127.0.0.1:4000/               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Emulator  â”‚ Host:Port      â”‚ View in Emulator UI             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Functions â”‚ 127.0.0.1:5001 â”‚ http://127.0.0.1:4000/functions â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-08-25T06:08:05.324Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:08:06.332Z] Validating nodejs source
[debug] [2025-08-25T06:08:08.163Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:08:08.164Z] Building nodejs source
[debug] [2025-08-25T06:08:08.164Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:08:08.166Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:08:08.174Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8067

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[debug] [2025-08-25T06:08:09.082Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-9702b/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-9702b/us-central1/api)."}}
[debug] [2025-08-25T06:09:08.889Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api-2025-08-25T06:09:08.888Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:09:08.890Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api-2025-08-25T06:09:08.888Z"],"workRunningCount":1}
[debug] [2025-08-25T06:09:08.892Z] Accepted request GET /clone-9702b/us-central1/api --> us-central1-api
[debug] [2025-08-25T06:09:08.899Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:09:08.900Z] [functions] Got req.url=/clone-9702b/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:09:08.927Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-25T06:09:08.929Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-25T06:09:10.228Z] [runtime-status] [15776] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:10.230Z] [runtime-status] [15776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:10.230Z] [runtime-status] [15776] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-25T06:09:10.231Z] [runtime-status] [15776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:10.488Z] [runtime-status] [15776] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-25T06:09:10.489Z] [runtime-status] [15776] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-25T06:09:10.490Z] [runtime-status] [15776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:10.508Z] [runtime-status] [15776] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:10.513Z] [runtime-status] [15776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:10.514Z] [runtime-status] [15776] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  [dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild {"user":"[dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild"}}
[debug] [2025-08-25T06:09:10.773Z] [runtime-status] [15776] Functions runtime initialized. {"cwd":"N:\\Amazon Clone\\Server","node_version":"22.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Functions runtime initialized. {\"cwd\":\"N:\\\\Amazon Clone\\\\Server\",\"node_version\":\"22.16.0\"}"}}
[debug] [2025-08-25T06:09:10.773Z] [runtime-status] [15776] Listening to port: \\?\pipe\fire_emu_f0fcad065eda3d12 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15776] Listening to port: \\\\?\\pipe\\fire_emu_f0fcad065eda3d12"}}
[debug] [2025-08-25T06:09:10.893Z] [worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: IDLE"}}
[debug] [2025-08-25T06:09:10.894Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:09:10.895Z] [worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: BUSY"}}
[debug] [2025-08-25T06:09:10.911Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 16.4851ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 16.4851ms"}}
[debug] [2025-08-25T06:09:10.915Z] [worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: IDLE"}}
[debug] [2025-08-25T06:09:10.916Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:09:10.917Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:09:10.918Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:09:11.215Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-08-25T06:09:20.121Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:09:21.126Z] Validating nodejs source
[debug] [2025-08-25T06:09:22.134Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:09:22.134Z] Building nodejs source
[debug] [2025-08-25T06:09:22.134Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:09:22.136Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:09:22.142Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8178

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[debug] [2025-08-25T06:09:22.801Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:09:24.575Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:09:25.591Z] Validating nodejs source
[debug] [2025-08-25T06:09:26.639Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:09:26.640Z] Building nodejs source
[debug] [2025-08-25T06:09:26.640Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:09:26.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:09:26.648Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:09:26.823Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-08-25T06:09:26.823Z] [worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: FINISHING"}}
[debug] [2025-08-25T06:09:26.839Z] [worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: exited"}}
[debug] [2025-08-25T06:09:26.839Z] [worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0eb935f0-a78c-4517-abed-65d7d1533875]: FINISHED"}}
[info] Serving at port 8908

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }

[debug] [2025-08-25T06:09:27.263Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:09:30.382Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api-2025-08-25T06:09:30.382Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:09:30.383Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api-2025-08-25T06:09:30.382Z"],"workRunningCount":1}
[debug] [2025-08-25T06:09:30.383Z] Accepted request GET /clone-9702b/us-central1/api --> us-central1-api
[debug] [2025-08-25T06:09:30.385Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:09:30.386Z] [functions] Got req.url=/clone-9702b/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api, mapping to path=/"}}
[debug] [2025-08-25T06:09:30.386Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:09:30.395Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-25T06:09:30.396Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:09:31.400Z] [runtime-status] [2640] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:31.401Z] [runtime-status] [2640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:31.401Z] [runtime-status] [2640] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-25T06:09:31.402Z] [runtime-status] [2640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:31.644Z] [runtime-status] [2640] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-25T06:09:31.644Z] [runtime-status] [2640] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-25T06:09:31.645Z] [runtime-status] [2640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:31.649Z] [runtime-status] [2640] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:31.651Z] [runtime-status] [2640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:09:31.651Z] [runtime-status] [2640] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject } {"user":"[dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }"}}
[debug] [2025-08-25T06:09:31.806Z] [runtime-status] [2640] Functions runtime initialized. {"cwd":"N:\\Amazon Clone\\Server","node_version":"22.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Functions runtime initialized. {\"cwd\":\"N:\\\\Amazon Clone\\\\Server\",\"node_version\":\"22.16.0\"}"}}
[debug] [2025-08-25T06:09:31.806Z] [runtime-status] [2640] Listening to port: \\?\pipe\fire_emu_a285f3d800d77159 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2640] Listening to port: \\\\?\\pipe\\fire_emu_a285f3d800d77159"}}
[debug] [2025-08-25T06:09:31.887Z] [worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: IDLE"}}
[debug] [2025-08-25T06:09:31.887Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:09:31.888Z] [worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: BUSY"}}
[debug] [2025-08-25T06:09:31.895Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.7922ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.7922ms"}}
[debug] [2025-08-25T06:09:31.896Z] [worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: IDLE"}}
[debug] [2025-08-25T06:09:31.897Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:09:31.897Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:09:31.897Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:12:28.811Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:12:29.812Z] Validating nodejs source
[debug] [2025-08-25T06:12:31.874Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:12:31.874Z] Building nodejs source
[debug] [2025-08-25T06:12:31.875Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:12:31.876Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:12:31.884Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8713

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[debug] [2025-08-25T06:12:32.508Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:12:32.833Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:12:33.846Z] Validating nodejs source
[debug] [2025-08-25T06:12:35.319Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:12:35.320Z] Building nodejs source
[debug] [2025-08-25T06:12:35.320Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:12:35.321Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:12:35.326Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8739

[error] N:\Amazon Clone\Server\index.js:21
}
^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:12:35.545Z] Got response code 400; body Failed to generate manifest from function source: missing ) after argument list
[debug] [2025-08-25T06:12:35.687Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:12:36.527Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-08-25T06:12:36.527Z] [worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: FINISHING"}}
[debug] [2025-08-25T06:12:36.539Z] [worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: exited"}}
[debug] [2025-08-25T06:12:36.540Z] [worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41173300-65ab-44b6-b4be-01c865597182]: FINISHED"}}
[debug] [2025-08-25T06:12:36.693Z] Validating nodejs source
[debug] [2025-08-25T06:12:37.701Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:12:37.702Z] Building nodejs source
[debug] [2025-08-25T06:12:37.702Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:12:37.703Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:12:37.709Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:12:37.714Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8650

[error] N:\Amazon Clone\Server\index.js:20
    const tot
          ^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:12:37.911Z] Got response code 400; body Failed to generate manifest from function source: Missing initializer in const declaration
[debug] [2025-08-25T06:12:38.092Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:12:39.095Z] Validating nodejs source
[debug] [2025-08-25T06:12:40.011Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:12:40.011Z] Building nodejs source
[debug] [2025-08-25T06:12:40.011Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:12:40.014Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:12:40.020Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8076

[error] N:\Amazon Clone\Server\index.js:29
}
^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:12:40.264Z] Got response code 400; body Failed to generate manifest from function source: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:12:50.818Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:12:51.831Z] Validating nodejs source
[debug] [2025-08-25T06:12:52.738Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:12:52.738Z] Building nodejs source
[debug] [2025-08-25T06:12:52.738Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:12:52.741Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:12:52.750Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8651

[error] N:\Amazon Clone\Server\index.js:22
}
^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:12:53.022Z] Got response code 400; body Failed to generate manifest from function source: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:12:57.478Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:12:58.485Z] Validating nodejs source
[debug] [2025-08-25T06:13:00.223Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:00.223Z] Building nodejs source
[debug] [2025-08-25T06:13:00.223Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:00.225Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:00.230Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:13:00.233Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8587

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

[debug] [2025-08-25T06:13:00.811Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:13:01.239Z] Validating nodejs source
[debug] [2025-08-25T06:13:02.060Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:02.060Z] Building nodejs source
[debug] [2025-08-25T06:13:02.060Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:02.062Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:02.068Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8496

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ version env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:13:02.685Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:13:05.492Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:13:06.494Z] Validating nodejs source
[debug] [2025-08-25T06:13:07.533Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:07.533Z] Building nodejs source
[debug] [2025-08-25T06:13:07.533Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:07.535Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:07.544Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8470

[error] N:\Amazon Clone\Server\index.js:22
}
^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:13:07.747Z] Got response code 400; body Failed to generate manifest from function source: missing ) after argument list
[debug] [2025-08-25T06:13:11.224Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:13:12.233Z] Validating nodejs source
[debug] [2025-08-25T06:13:13.548Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:13.548Z] Building nodejs source
[debug] [2025-08-25T06:13:13.548Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:13.549Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:13.556Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8612

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:13:14.170Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:13:16.394Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:13:17.397Z] Validating nodejs source
[debug] [2025-08-25T06:13:18.379Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:18.379Z] Building nodejs source
[debug] [2025-08-25T06:13:18.379Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:18.381Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:18.387Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8872

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }

[debug] [2025-08-25T06:13:19.087Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:13:22.796Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:13:23.808Z] Validating nodejs source
[debug] [2025-08-25T06:13:24.846Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:24.846Z] Building nodejs source
[debug] [2025-08-25T06:13:24.846Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:24.848Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:24.856Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:13:24.862Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8328

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

[debug] [2025-08-25T06:13:25.575Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:13:25.875Z] Validating nodejs source
[debug] [2025-08-25T06:13:27.377Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:27.378Z] Building nodejs source
[debug] [2025-08-25T06:13:27.378Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:27.379Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:27.386Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:13:27.390Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8894

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:13:27.990Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:13:28.393Z] Validating nodejs source
[debug] [2025-08-25T06:13:29.683Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:13:29.683Z] Building nodejs source
[debug] [2025-08-25T06:13:29.683Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:29.687Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:13:29.697Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8504

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[debug] [2025-08-25T06:13:30.449Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:13:42.922Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api-2025-08-25T06:13:42.921Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:13:42.922Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api-2025-08-25T06:13:42.921Z"],"workRunningCount":1}
[debug] [2025-08-25T06:13:42.922Z] Accepted request GET /clone-9702b/us-central1/api --> us-central1-api
[debug] [2025-08-25T06:13:42.927Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:13:42.929Z] [functions] Got req.url=/clone-9702b/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api, mapping to path=/"}}
[debug] [2025-08-25T06:13:42.929Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:13:42.935Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-25T06:13:42.936Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-25T06:13:44.238Z] [runtime-status] [18716] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:13:44.239Z] [runtime-status] [18716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:13:44.239Z] [runtime-status] [18716] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-25T06:13:44.240Z] [runtime-status] [18716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:13:44.496Z] [runtime-status] [18716] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-25T06:13:44.496Z] [runtime-status] [18716] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-25T06:13:44.497Z] [runtime-status] [18716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:13:44.515Z] [runtime-status] [18716] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:13:44.518Z] [runtime-status] [18716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:13:44.518Z] [runtime-status] [18716] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true } {"user":"[dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }"}}
[debug] [2025-08-25T06:13:44.673Z] [runtime-status] [18716] Functions runtime initialized. {"cwd":"N:\\Amazon Clone\\Server","node_version":"22.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Functions runtime initialized. {\"cwd\":\"N:\\\\Amazon Clone\\\\Server\",\"node_version\":\"22.16.0\"}"}}
[debug] [2025-08-25T06:13:44.674Z] [runtime-status] [18716] Listening to port: \\?\pipe\fire_emu_eac1fb98c2e418d5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18716] Listening to port: \\\\?\\pipe\\fire_emu_eac1fb98c2e418d5"}}
[debug] [2025-08-25T06:13:44.731Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: IDLE"}}
[debug] [2025-08-25T06:13:44.731Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:13:44.733Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: BUSY"}}
[debug] [2025-08-25T06:13:44.738Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.137ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.137ms"}}
[debug] [2025-08-25T06:13:44.738Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: IDLE"}}
[debug] [2025-08-25T06:13:44.739Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:13:44.739Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:13:44.739Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:13:57.573Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api-2025-08-25T06:13:57.573Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:13:57.573Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api-2025-08-25T06:13:57.573Z"],"workRunningCount":1}
[debug] [2025-08-25T06:13:57.573Z] Accepted request POST /clone-9702b/us-central1/api?total=2 --> us-central1-api
[debug] [2025-08-25T06:13:57.577Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:13:57.577Z] [functions] Got req.url=/clone-9702b/us-central1/api?total=2, mapping to path=/?total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api?total=2, mapping to path=/?total=2"}}
[debug] [2025-08-25T06:13:57.577Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:13:57.578Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: BUSY"}}
[debug] [2025-08-25T06:13:57.583Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.3985ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.3985ms"}}
[debug] [2025-08-25T06:13:57.584Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: IDLE"}}
[debug] [2025-08-25T06:13:57.584Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:13:57.584Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:13:57.584Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:14:17.668Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:14:17.668Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:14:17.668Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:14:17.668Z"],"workRunningCount":1}
[debug] [2025-08-25T06:14:17.668Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=2 --> us-central1-api
[debug] [2025-08-25T06:14:17.671Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:14:17.672Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=2, mapping to path=/payments/create?total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=2, mapping to path=/payments/create?total=2"}}
[debug] [2025-08-25T06:14:17.672Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:14:17.673Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: BUSY"}}
[info] >  Total Recieved >> 2 {"user":"Total Recieved >> 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Total Recieved >> 2"}}
[debug] [2025-08-25T06:14:49.110Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:14:50.114Z] Validating nodejs source
[debug] [2025-08-25T06:14:52.082Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:14:52.082Z] Building nodejs source
[debug] [2025-08-25T06:14:52.082Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:14:52.087Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:14:52.102Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:14:52.115Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8426

[error] N:\Amazon Clone\Server\index.js:26
exports.api = onRequest(app);
                             

SyntaxError: Unexpected end of input
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:14:52.605Z] Got response code 400; body Failed to generate manifest from function source: Unexpected end of input
[debug] [2025-08-25T06:14:53.130Z] Validating nodejs source
[debug] [2025-08-25T06:14:55.147Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:14:55.147Z] Building nodejs source
[debug] [2025-08-25T06:14:55.147Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:14:55.150Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:14:55.159Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:14:55.247Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8574

[debug] [2025-08-25T06:14:56.250Z] Validating nodejs source
[debug] [2025-08-25T06:14:58.488Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:14:58.488Z] Building nodejs source
[debug] [2025-08-25T06:14:58.488Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:14:58.491Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:14:58.506Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

[debug] [2025-08-25T06:14:58.516Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8307

[debug] [2025-08-25T06:14:59.028Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

[debug] [2025-08-25T06:15:00.039Z] Validating nodejs source
[debug] [2025-08-25T06:15:02.072Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:15:02.072Z] Building nodejs source
[debug] [2025-08-25T06:15:02.072Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:15:02.078Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:15:02.081Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:15:02.097Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:15:02.108Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:15:02.575Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2025-08-25T06:15:02.576Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: FINISHING"}}
[info] Serving at port 8486

[debug] [2025-08-25T06:15:03.112Z] Validating nodejs source
[debug] [2025-08-25T06:15:04.956Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:15:04.956Z] Building nodejs source
[debug] [2025-08-25T06:15:04.956Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:15:04.959Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:15:04.974Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[debug] [2025-08-25T06:15:04.985Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:15:05.031Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8145

[debug] [2025-08-25T06:15:06.048Z] Validating nodejs source
[debug] [2025-08-25T06:15:07.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:15:07.905Z] Building nodejs source
[debug] [2025-08-25T06:15:07.905Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:15:07.908Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:15:07.922Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[debug] [2025-08-25T06:15:07.931Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:15:07.935Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8518

[debug] [2025-08-25T06:15:08.947Z] Validating nodejs source
[debug] [2025-08-25T06:15:10.812Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:15:10.814Z] Building nodejs source
[debug] [2025-08-25T06:15:10.814Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:15:10.818Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:15:10.833Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:15:10.842Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8922

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

[debug] [2025-08-25T06:15:12.613Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2025-08-25T06:15:17.699Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:15:17.736Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: exited"}}
[debug] [2025-08-25T06:15:17.737Z] [worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-afbad698-21a9-4361-9165-868af64d10bc]: FINISHED"}}
[debug] [2025-08-25T06:15:26.368Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:15:26.368Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:15:26.368Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:15:26.368Z"],"workRunningCount":1}
[debug] [2025-08-25T06:15:26.368Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:15:26.373Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:15:26.373Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:15:26.373Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:15:26.385Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-25T06:15:26.386Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-25T06:15:28.625Z] [runtime-status] [4916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:15:28.628Z] [runtime-status] [4916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:15:28.629Z] [runtime-status] [4916] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-25T06:15:28.630Z] [runtime-status] [4916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:15:29.246Z] [runtime-status] [4916] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-25T06:15:29.247Z] [runtime-status] [4916] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-25T06:15:29.248Z] [runtime-status] [4916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:15:29.260Z] [runtime-status] [4916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:15:29.264Z] [runtime-status] [4916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:15:29.265Z] [runtime-status] [4916] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  [dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ“¡ version env with Radar: https://dotenvx.com/radar {"user":"[dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ“¡ version env with Radar: https://dotenvx.com/radar","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [dotenv@17.2.1] injecting env (0) from .env -- tip: ðŸ“¡ version env with Radar: https://dotenvx.com/radar"}}
[debug] [2025-08-25T06:15:29.716Z] [runtime-status] [4916] Functions runtime initialized. {"cwd":"N:\\Amazon Clone\\Server","node_version":"22.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Functions runtime initialized. {\"cwd\":\"N:\\\\Amazon Clone\\\\Server\",\"node_version\":\"22.16.0\"}"}}
[debug] [2025-08-25T06:15:29.716Z] [runtime-status] [4916] Listening to port: \\?\pipe\fire_emu_799cab3f35e516f6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4916] Listening to port: \\\\?\\pipe\\fire_emu_799cab3f35e516f6"}}
[debug] [2025-08-25T06:15:29.769Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE"}}
[debug] [2025-08-25T06:15:29.770Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:15:29.771Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: BUSY"}}
[info] >  Total Recieved >> 1000 {"user":"Total Recieved >> 1000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Total Recieved >> 1000"}}
[debug] [2025-08-25T06:15:29.790Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 19.9898ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 19.9898ms"}}
[debug] [2025-08-25T06:15:29.792Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE"}}
[debug] [2025-08-25T06:15:29.792Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:15:29.793Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:15:29.793Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:15:35.050Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:15:35.050Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:15:35.050Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:15:35.050Z"],"workRunningCount":1}
[debug] [2025-08-25T06:15:35.050Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:15:35.057Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:15:35.057Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:15:35.058Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:15:35.061Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: BUSY"}}
[info] >  Total Recieved >> 1000 {"user":"Total Recieved >> 1000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Total Recieved >> 1000"}}
[debug] [2025-08-25T06:15:35.067Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.5915ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.5915ms"}}
[debug] [2025-08-25T06:15:35.069Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE"}}
[debug] [2025-08-25T06:15:35.069Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:15:35.069Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:15:35.069Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:15:38.384Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:15:38.384Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:15:38.384Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:15:38.384Z"],"workRunningCount":1}
[debug] [2025-08-25T06:15:38.384Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=10000 --> us-central1-api
[debug] [2025-08-25T06:15:38.385Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:15:38.386Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=10000, mapping to path=/payments/create?total=10000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=10000, mapping to path=/payments/create?total=10000"}}
[debug] [2025-08-25T06:15:38.386Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:15:38.387Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: BUSY"}}
[info] >  Total Recieved >> 10000 {"user":"Total Recieved >> 10000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Total Recieved >> 10000"}}
[debug] [2025-08-25T06:15:38.392Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.4898ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.4898ms"}}
[debug] [2025-08-25T06:15:38.393Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: IDLE"}}
[debug] [2025-08-25T06:15:38.393Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:15:38.394Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:15:38.394Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:33:54.731Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:33:55.779Z] Validating nodejs source
[debug] [2025-08-25T06:33:58.247Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:33:58.247Z] Building nodejs source
[debug] [2025-08-25T06:33:58.248Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:33:58.252Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:33:58.261Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8223

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:33:59.345Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:34:03.389Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-08-25T06:34:03.390Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: FINISHING"}}
[debug] [2025-08-25T06:34:03.394Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: exited"}}
[debug] [2025-08-25T06:34:03.394Z] [worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c53f25f0-03a8-47fd-a7d8-44938705281c]: FINISHED"}}
[debug] [2025-08-25T06:34:19.986Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:34:20.994Z] Validating nodejs source
[debug] [2025-08-25T06:34:21.895Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:21.895Z] Building nodejs source
[debug] [2025-08-25T06:34:21.896Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:21.897Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:21.904Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8637

[error] N:\Amazon Clone\Server\index.js:21
    const payment
          ^^^^^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:34:22.176Z] Got response code 400; body Failed to generate manifest from function source: Missing initializer in const declaration
[debug] [2025-08-25T06:34:25.468Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:34:26.477Z] Validating nodejs source
[debug] [2025-08-25T06:34:27.231Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:27.231Z] Building nodejs source
[debug] [2025-08-25T06:34:27.231Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:27.233Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:27.238Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8851

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[debug] [2025-08-25T06:34:27.979Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:34:31.122Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:34:32.130Z] Validating nodejs source
[debug] [2025-08-25T06:34:33.065Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:33.065Z] Building nodejs source
[debug] [2025-08-25T06:34:33.065Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:33.066Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:33.072Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8735

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:34:33.859Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:34:40.269Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:34:41.282Z] Validating nodejs source
[debug] [2025-08-25T06:34:42.176Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:42.176Z] Building nodejs source
[debug] [2025-08-25T06:34:42.176Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:42.177Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:42.182Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8641

[debug] [2025-08-25T06:34:42.423Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ version env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:34:42.949Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:34:43.430Z] Validating nodejs source
[debug] [2025-08-25T06:34:44.426Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:44.426Z] Building nodejs source
[debug] [2025-08-25T06:34:44.426Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:44.428Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:44.433Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:34:44.597Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8645

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[debug] [2025-08-25T06:34:45.214Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:34:45.607Z] Validating nodejs source
[debug] [2025-08-25T06:34:46.402Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:46.402Z] Building nodejs source
[debug] [2025-08-25T06:34:46.402Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:46.403Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:46.409Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8513

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[debug] [2025-08-25T06:34:47.124Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:34:48.635Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:34:49.638Z] Validating nodejs source
[debug] [2025-08-25T06:34:50.479Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:34:50.479Z] Building nodejs source
[debug] [2025-08-25T06:34:50.479Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:34:50.480Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:34:50.485Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8390

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:34:51.125Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:35:03.324Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:35:04.329Z] Validating nodejs source
[debug] [2025-08-25T06:35:05.254Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:35:05.254Z] Building nodejs source
[debug] [2025-08-25T06:35:05.254Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:35:05.256Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:35:05.263Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:35:05.268Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8266

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

[debug] [2025-08-25T06:35:05.965Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:35:06.280Z] Validating nodejs source
[debug] [2025-08-25T06:35:07.187Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:35:07.187Z] Building nodejs source
[debug] [2025-08-25T06:35:07.187Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:35:07.188Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:35:07.194Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8782

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[debug] [2025-08-25T06:35:07.874Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:35:47.035Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:35:48.047Z] Validating nodejs source
[debug] [2025-08-25T06:35:48.750Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:35:48.750Z] Building nodejs source
[debug] [2025-08-25T06:35:48.750Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:35:48.751Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:35:48.757Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8303

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

[debug] [2025-08-25T06:35:49.308Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:35:50.880Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:35:51.880Z] Validating nodejs source
[debug] [2025-08-25T06:35:52.598Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:35:52.598Z] Building nodejs source
[debug] [2025-08-25T06:35:52.598Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:35:52.599Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:35:52.604Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8524

[error] N:\Amazon Clone\Server\index.js:26
})
^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:35:52.779Z] Got response code 400; body Failed to generate manifest from function source: Unexpected token '}'
[debug] [2025-08-25T06:35:53.265Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:35:54.281Z] Validating nodejs source
[debug] [2025-08-25T06:35:54.962Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:35:54.963Z] Building nodejs source
[debug] [2025-08-25T06:35:54.963Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:35:54.964Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:35:54.969Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8972

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ auto-backup env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:35:55.510Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:35:57.311Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:35:58.319Z] Validating nodejs source
[debug] [2025-08-25T06:35:59.085Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:35:59.085Z] Building nodejs source
[debug] [2025-08-25T06:35:59.085Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:35:59.087Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:35:59.092Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8144

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:35:59.668Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:36:02.227Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:36:03.235Z] Validating nodejs source
[debug] [2025-08-25T06:36:04.051Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:36:04.051Z] Building nodejs source
[debug] [2025-08-25T06:36:04.051Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:36:04.053Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:36:04.060Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8552

[debug] [2025-08-25T06:36:04.323Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:36:04.709Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:36:05.341Z] Validating nodejs source
[debug] [2025-08-25T06:36:06.413Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:36:06.413Z] Building nodejs source
[debug] [2025-08-25T06:36:06.413Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:36:06.414Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:36:06.420Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8356

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[debug] [2025-08-25T06:36:06.988Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:36:10.468Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:36:11.472Z] Validating nodejs source
[debug] [2025-08-25T06:36:12.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:36:12.306Z] Building nodejs source
[debug] [2025-08-25T06:36:12.307Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:36:12.308Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:36:12.314Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8947

[error] N:\Amazon Clone\Server\index.js:25
    res.status(201).send(express.json})
                                 ^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:36:12.538Z] Got response code 400; body Failed to generate manifest from function source: missing ) after argument list
[debug] [2025-08-25T06:36:13.848Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:36:14.863Z] Validating nodejs source
[debug] [2025-08-25T06:36:16.294Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:36:16.294Z] Building nodejs source
[debug] [2025-08-25T06:36:16.294Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:36:16.296Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:36:16.302Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8869

[error] N:\Amazon Clone\Server\index.js:25
    res.status(201).send(json})
                         ^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:36:16.509Z] Got response code 400; body Failed to generate manifest from function source: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:36:17.834Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:36:18.848Z] Validating nodejs source
[debug] [2025-08-25T06:36:20.047Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:36:20.047Z] Building nodejs source
[debug] [2025-08-25T06:36:20.047Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:36:20.048Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:36:20.054Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8984

[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ auto-backup env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:36:20.714Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:02.975Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:03.987Z] Validating nodejs source
[debug] [2025-08-25T06:37:04.703Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:04.703Z] Building nodejs source
[debug] [2025-08-25T06:37:04.703Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:04.704Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:04.710Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8465

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:37:05.284Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:37:06.511Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:07.522Z] Validating nodejs source
[debug] [2025-08-25T06:37:08.303Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:08.303Z] Building nodejs source
[debug] [2025-08-25T06:37:08.304Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:08.305Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:08.310Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8405

[debug] [2025-08-25T06:37:08.875Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:37:09.067Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:09.892Z] Validating nodejs source
[debug] [2025-08-25T06:37:10.661Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:10.661Z] Building nodejs source
[debug] [2025-08-25T06:37:10.661Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:10.662Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:10.667Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8934

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:37:11.242Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:15.273Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:16.284Z] Validating nodejs source
[debug] [2025-08-25T06:37:17.135Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:17.135Z] Building nodejs source
[debug] [2025-08-25T06:37:17.135Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:17.136Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:17.141Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8989

[error] N:\Amazon Clone\Server\index.js:21
    const total = req.query.total;
    ^^^^^

SyntaxError: Unexpected token 'const'
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:37:17.319Z] Got response code 400; body Failed to generate manifest from function source: Unexpected token 'const'
[debug] [2025-08-25T06:37:17.922Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:18.929Z] Validating nodejs source
[debug] [2025-08-25T06:37:19.860Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:19.860Z] Building nodejs source
[debug] [2025-08-25T06:37:19.861Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:19.861Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:19.866Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8197

[error] N:\Amazon Clone\Server\index.js:21
    const total = req.query.total;
    ^^^^^

SyntaxError: Unexpected token 'const'
    at wrapSafe (node:internal/modules/cjs/loader:1662:18)
    at Module._compile (node:internal/modules/cjs/loader:1704:20)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (N:\Amazon Clone\Server\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-25T06:37:20.039Z] Got response code 400; body Failed to generate manifest from function source: Unexpected token 'const'
[debug] [2025-08-25T06:37:20.314Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:21.324Z] Validating nodejs source
[debug] [2025-08-25T06:37:22.401Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:22.401Z] Building nodejs source
[debug] [2025-08-25T06:37:22.401Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-08-25T06:37:22.403Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:22.409Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8204

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ auto-backup env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:37:22.976Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:29.648Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:30.663Z] Validating nodejs source
[debug] [2025-08-25T06:37:31.396Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:31.396Z] Building nodejs source
[debug] [2025-08-25T06:37:31.396Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:31.397Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:31.403Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:37:31.408Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8396

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

[debug] [2025-08-25T06:37:31.996Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:37:32.415Z] Validating nodejs source
[debug] [2025-08-25T06:37:33.117Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:33.117Z] Building nodejs source
[debug] [2025-08-25T06:37:33.117Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:33.119Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:33.124Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8927

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ observe env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:37:33.721Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:36.565Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:37.574Z] Validating nodejs source
[debug] [2025-08-25T06:37:38.336Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:38.336Z] Building nodejs source
[debug] [2025-08-25T06:37:38.336Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:38.338Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:38.344Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8862

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[debug] [2025-08-25T06:37:39.039Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:46.402Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:47.409Z] Validating nodejs source
[debug] [2025-08-25T06:37:48.246Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:48.246Z] Building nodejs source
[debug] [2025-08-25T06:37:48.246Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:48.247Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:48.252Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:37:48.279Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8275

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:37:48.933Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:37:49.292Z] Validating nodejs source
[debug] [2025-08-25T06:37:50.277Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:50.277Z] Building nodejs source
[debug] [2025-08-25T06:37:50.277Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:50.279Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:50.285Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8763

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

[debug] [2025-08-25T06:37:51.053Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:37:51.798Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:37:52.800Z] Validating nodejs source
[debug] [2025-08-25T06:37:53.675Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:37:53.676Z] Building nodejs source
[debug] [2025-08-25T06:37:53.676Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:37:53.677Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:37:53.682Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8060

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:37:54.322Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:37:59.606Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:38:00.608Z] Validating nodejs source
[debug] [2025-08-25T06:38:01.411Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:01.412Z] Building nodejs source
[debug] [2025-08-25T06:38:01.412Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:01.413Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:01.418Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8759

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[debug] [2025-08-25T06:38:02.122Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:38:03.831Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:38:04.842Z] Validating nodejs source
[debug] [2025-08-25T06:38:05.680Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:05.680Z] Building nodejs source
[debug] [2025-08-25T06:38:05.680Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:05.681Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:05.688Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8314

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ observe env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:38:06.482Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:38:09.032Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:38:10.039Z] Validating nodejs source
[debug] [2025-08-25T06:38:10.827Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:10.828Z] Building nodejs source
[debug] [2025-08-25T06:38:10.828Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:10.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:10.836Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:38:10.840Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8232

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:38:11.482Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:38:11.843Z] Validating nodejs source
[debug] [2025-08-25T06:38:12.631Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:12.631Z] Building nodejs source
[debug] [2025-08-25T06:38:12.631Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:12.633Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:12.643Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8873

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:38:13.462Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:38:14.016Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:38:15.018Z] Validating nodejs source
[debug] [2025-08-25T06:38:15.908Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:15.910Z] Building nodejs source
[debug] [2025-08-25T06:38:15.911Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:15.913Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:15.923Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:38:15.989Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8671

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

[debug] [2025-08-25T06:38:16.771Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:38:17.004Z] Validating nodejs source
[debug] [2025-08-25T06:38:17.854Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:17.855Z] Building nodejs source
[debug] [2025-08-25T06:38:17.855Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:17.856Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:17.862Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8386

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[debug] [2025-08-25T06:38:18.601Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:38:34.221Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:38:35.225Z] Validating nodejs source
[debug] [2025-08-25T06:38:35.953Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:35.954Z] Building nodejs source
[debug] [2025-08-25T06:38:35.954Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:35.955Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:35.964Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[debug] [2025-08-25T06:38:35.968Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[info] Serving at port 8379

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

[debug] [2025-08-25T06:38:36.754Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:38:36.973Z] Validating nodejs source
[debug] [2025-08-25T06:38:37.764Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:38:37.764Z] Building nodejs source
[debug] [2025-08-25T06:38:37.765Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:38:37.766Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:38:37.771Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8187

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

[debug] [2025-08-25T06:38:38.485Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:41:55.197Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:41:56.208Z] Validating nodejs source
[debug] [2025-08-25T06:41:57.276Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:41:57.276Z] Building nodejs source
[debug] [2025-08-25T06:41:57.277Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:41:57.278Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:41:57.284Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8326

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }

[debug] [2025-08-25T06:41:57.849Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:41:59.380Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:42:00.384Z] Validating nodejs source
[debug] [2025-08-25T06:42:01.178Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:42:01.178Z] Building nodejs source
[debug] [2025-08-25T06:42:01.179Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:42:01.179Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:42:01.184Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8723

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ“¡ version env with Radar: https://dotenvx.com/radar

[debug] [2025-08-25T06:42:01.736Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:43:05.160Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:43:05.159Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:43:05.160Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:43:05.159Z"],"workRunningCount":1}
[debug] [2025-08-25T06:43:05.160Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:43:05.167Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:43:05.168Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:43:05.168Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:43:05.177Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-25T06:43:05.177Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-25T06:43:06.668Z] [runtime-status] [2600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:43:06.669Z] [runtime-status] [2600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:43:06.669Z] [runtime-status] [2600] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-25T06:43:06.669Z] [runtime-status] [2600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:43:06.913Z] [runtime-status] [2600] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-25T06:43:06.913Z] [runtime-status] [2600] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-25T06:43:06.914Z] [runtime-status] [2600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:43:06.922Z] [runtime-status] [2600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:43:06.925Z] [runtime-status] [2600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:43:06.925Z] [runtime-status] [2600] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true } {"user":"[dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }"}}
[debug] [2025-08-25T06:43:07.095Z] [runtime-status] [2600] Functions runtime initialized. {"cwd":"N:\\Amazon Clone\\Server","node_version":"22.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Functions runtime initialized. {\"cwd\":\"N:\\\\Amazon Clone\\\\Server\",\"node_version\":\"22.16.0\"}"}}
[debug] [2025-08-25T06:43:07.095Z] [runtime-status] [2600] Listening to port: \\?\pipe\fire_emu_aebb29531fba889c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2600] Listening to port: \\\\?\\pipe\\fire_emu_aebb29531fba889c"}}
[debug] [2025-08-25T06:43:07.139Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE"}}
[debug] [2025-08-25T06:43:07.139Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:43:07.140Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY"}}
[debug] [2025-08-25T06:43:07.148Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8.0441ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.0441ms"}}
[debug] [2025-08-25T06:43:07.149Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE"}}
[debug] [2025-08-25T06:43:07.150Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:43:07.150Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:43:07.151Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  ReferenceError: total is not defined {"user":"ReferenceError: total is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: total is not defined"}}
[info] >      at N:\Amazon Clone\Server\index.js:20:5 {"user":"    at N:\\Amazon Clone\\Server\\index.js:20:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\index.js:20:5"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\lib\route.js:157:13) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)"}}
[info] >      at Route.dispatch (N:\Amazon Clone\Server\node_modules\router\lib\route.js:117:3) {"user":"    at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)"}}
[info] >      at handle (N:\Amazon Clone\Server\node_modules\router\index.js:435:11) {"user":"    at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at N:\Amazon Clone\Server\node_modules\router\index.js:295:15 {"user":"    at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15"}}
[info] >      at processParams (N:\Amazon Clone\Server\node_modules\router\index.js:582:12) {"user":"    at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\index.js:291:5) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)"}}
[info] >      at jsonParser (N:\Amazon Clone\Server\node_modules\body-parser\lib\types\json.js:109:7) {"user":"    at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)"}}
[debug] [2025-08-25T06:44:03.940Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:44:04.947Z] Validating nodejs source
[debug] [2025-08-25T06:44:06.132Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:44:06.132Z] Building nodejs source
[debug] [2025-08-25T06:44:06.132Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:44:06.133Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:44:06.138Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8342

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[debug] [2025-08-25T06:44:06.708Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:44:07.566Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:07.566Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:44:07.566Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:07.566Z"],"workRunningCount":1}
[debug] [2025-08-25T06:44:07.566Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:44:07.567Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:44:07.567Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:44:07.568Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:44:07.568Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY"}}
[debug] [2025-08-25T06:44:07.571Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.8757ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.8757ms"}}
[debug] [2025-08-25T06:44:07.571Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE"}}
[debug] [2025-08-25T06:44:07.571Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:44:07.571Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:44:07.571Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  ReferenceError: total is not defined {"user":"ReferenceError: total is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: total is not defined"}}
[info] >      at N:\Amazon Clone\Server\index.js:20:5 {"user":"    at N:\\Amazon Clone\\Server\\index.js:20:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\index.js:20:5"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\lib\route.js:157:13) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)"}}
[info] >      at Route.dispatch (N:\Amazon Clone\Server\node_modules\router\lib\route.js:117:3) {"user":"    at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)"}}
[info] >      at handle (N:\Amazon Clone\Server\node_modules\router\index.js:435:11) {"user":"    at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at N:\Amazon Clone\Server\node_modules\router\index.js:295:15 {"user":"    at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15"}}
[info] >      at processParams (N:\Amazon Clone\Server\node_modules\router\index.js:582:12) {"user":"    at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\index.js:291:5) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)"}}
[info] >      at jsonParser (N:\Amazon Clone\Server\node_modules\body-parser\lib\types\json.js:109:7) {"user":"    at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)"}}
[debug] [2025-08-25T06:44:09.676Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:09.676Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:44:09.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:09.676Z"],"workRunningCount":1}
[debug] [2025-08-25T06:44:09.676Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:44:09.677Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:44:09.677Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:44:09.677Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:44:09.678Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY"}}
[debug] [2025-08-25T06:44:09.680Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.0728ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.0728ms"}}
[debug] [2025-08-25T06:44:09.681Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE"}}
[debug] [2025-08-25T06:44:09.681Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:44:09.681Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:44:09.681Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  ReferenceError: total is not defined {"user":"ReferenceError: total is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: total is not defined"}}
[info] >      at N:\Amazon Clone\Server\index.js:20:5 {"user":"    at N:\\Amazon Clone\\Server\\index.js:20:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\index.js:20:5"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\lib\route.js:157:13) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)"}}
[info] >      at Route.dispatch (N:\Amazon Clone\Server\node_modules\router\lib\route.js:117:3) {"user":"    at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)"}}
[info] >      at handle (N:\Amazon Clone\Server\node_modules\router\index.js:435:11) {"user":"    at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at N:\Amazon Clone\Server\node_modules\router\index.js:295:15 {"user":"    at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15"}}
[info] >      at processParams (N:\Amazon Clone\Server\node_modules\router\index.js:582:12) {"user":"    at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\index.js:291:5) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)"}}
[info] >      at jsonParser (N:\Amazon Clone\Server\node_modules\body-parser\lib\types\json.js:109:7) {"user":"    at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)"}}
[debug] [2025-08-25T06:44:10.277Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:10.277Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:44:10.277Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:10.277Z"],"workRunningCount":1}
[debug] [2025-08-25T06:44:10.277Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:44:10.278Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:44:10.278Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:44:10.278Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:44:10.278Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: BUSY"}}
[debug] [2025-08-25T06:44:10.280Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.1105ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.1105ms"}}
[debug] [2025-08-25T06:44:10.280Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: IDLE"}}
[debug] [2025-08-25T06:44:10.281Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:44:10.281Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:44:10.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  ReferenceError: total is not defined {"user":"ReferenceError: total is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: total is not defined"}}
[info] >      at N:\Amazon Clone\Server\index.js:20:5 {"user":"    at N:\\Amazon Clone\\Server\\index.js:20:5","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\index.js:20:5"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\lib\route.js:157:13) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:157:13)"}}
[info] >      at Route.dispatch (N:\Amazon Clone\Server\node_modules\router\lib\route.js:117:3) {"user":"    at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\route.js:117:3)"}}
[info] >      at handle (N:\Amazon Clone\Server\node_modules\router\index.js:435:11) {"user":"    at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:435:11)"}}
[info] >      at Layer.handleRequest (N:\Amazon Clone\Server\node_modules\router\lib\layer.js:152:17) {"user":"    at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (N:\\Amazon Clone\\Server\\node_modules\\router\\lib\\layer.js:152:17)"}}
[info] >      at N:\Amazon Clone\Server\node_modules\router\index.js:295:15 {"user":"    at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:295:15"}}
[info] >      at processParams (N:\Amazon Clone\Server\node_modules\router\index.js:582:12) {"user":"    at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:582:12)"}}
[info] >      at next (N:\Amazon Clone\Server\node_modules\router\index.js:291:5) {"user":"    at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (N:\\Amazon Clone\\Server\\node_modules\\router\\index.js:291:5)"}}
[info] >      at jsonParser (N:\Amazon Clone\Server\node_modules\body-parser\lib\types\json.js:109:7) {"user":"    at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (N:\\Amazon Clone\\Server\\node_modules\\body-parser\\lib\\types\\json.js:109:7)"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:44:10.737Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-08-25T06:44:10.737Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: FINISHING"}}
[debug] [2025-08-25T06:44:10.746Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: exited"}}
[debug] [2025-08-25T06:44:10.746Z] [worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f234f720-96cd-4484-938c-da94af3d0910]: FINISHED"}}
[debug] [2025-08-25T06:44:26.068Z] File N:\Amazon Clone\Server\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File N:\\Amazon Clone\\Server\\index.js changed, reloading triggers"}}
[debug] [2025-08-25T06:44:27.069Z] Validating nodejs source
[debug] [2025-08-25T06:44:28.606Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^17.2.1",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-25T06:44:28.606Z] Building nodejs source
[debug] [2025-08-25T06:44:28.606Z] Failed to find version of module node: reached end of search path N:\Amazon Clone\Server\node_modules
[warn] !  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:44:28.607Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-25T06:44:28.613Z] Found firebase-functions binary at 'N:\Amazon Clone\Server\node_modules\.bin\firebase-functions'
[info] Serving at port 8899

[info] [dotenv@17.2.1] injecting env (1) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[debug] [2025-08-25T06:44:29.229Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-25T06:44:31.835Z] [work-queue] {"queuedWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:31.835Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:44:31.835Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-9702b/us-central1/api/payments/create-2025-08-25T06:44:31.835Z"],"workRunningCount":1}
[debug] [2025-08-25T06:44:31.835Z] Accepted request POST /clone-9702b/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2025-08-25T06:44:31.837Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-25T06:44:31.837Z] [functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9702b/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2025-08-25T06:44:31.837Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-08-25T06:44:31.842Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-25T06:44:31.842Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-25T06:44:32.718Z] [runtime-status] [23112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:44:32.719Z] [runtime-status] [23112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:44:32.719Z] [runtime-status] [23112] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-25T06:44:32.720Z] [runtime-status] [23112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:44:32.965Z] [runtime-status] [23112] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-25T06:44:32.966Z] [runtime-status] [23112] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-25T06:44:32.966Z] [runtime-status] [23112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:44:32.970Z] [runtime-status] [23112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-25T06:44:32.972Z] [runtime-status] [23112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-25T06:44:32.972Z] [runtime-status] [23112] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"N:\\Amazon Clone\\Server\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"N:\\\\Amazon Clone\\\\Server\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true } {"user":"[dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }"}}
[debug] [2025-08-25T06:44:33.128Z] [runtime-status] [23112] Functions runtime initialized. {"cwd":"N:\\Amazon Clone\\Server","node_version":"22.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Functions runtime initialized. {\"cwd\":\"N:\\\\Amazon Clone\\\\Server\",\"node_version\":\"22.16.0\"}"}}
[debug] [2025-08-25T06:44:33.128Z] [runtime-status] [23112] Listening to port: \\?\pipe\fire_emu_9eb250f62b50d2f0 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23112] Listening to port: \\\\?\\pipe\\fire_emu_9eb250f62b50d2f0"}}
[debug] [2025-08-25T06:44:33.153Z] [worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: IDLE"}}
[debug] [2025-08-25T06:44:33.153Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-25T06:44:33.153Z] [worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: BUSY"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-25T06:44:33.259Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2025-08-25T06:44:33.260Z] [worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: FINISHING"}}
[debug] [2025-08-25T06:44:34.376Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1223.0822ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1223.0822ms"}}
[debug] [2025-08-25T06:44:34.377Z] [worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: IDLE --> FINISHING"}}
[debug] [2025-08-25T06:44:34.377Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-25T06:44:34.377Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-25T06:44:34.377Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-25T06:44:34.392Z] [worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: exited"}}
[debug] [2025-08-25T06:44:34.392Z] [worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aff0d757-bf52-47d9-ad43-1b6d81fbc41c]: FINISHED"}}
